import{a as $}from"./chunk-QKBDC2I7.js";import{a as M,b as V,e as j,g as P,j as N}from"./chunk-EO6GLLKT.js";import"./chunk-TZIVW4B4.js";import{$ as E,Ga as W,I as l,Ia as I,L as h,T as f,U as _,W as C,X as w,Y as y,Z as r,_ as t,da as v,fa as m,ha as c,ja as p,la as o,ma as k,na as T,oa as b,s as g,u as d,v as u}from"./chunk-BPJZSODR.js";var O=(s,a)=>a.setNumber;function D(s,a){if(s&1&&(r(0,"div",17)(1,"span",14),o(2,"history"),t(),o(3),t()),s&2){let e=c();l(3),b(" Last: ",e.lastPerformance.weight," lbs x ",e.lastPerformance.reps," reps ")}}function F(s,a){if(s&1){let e=v();r(0,"div",34)(1,"div",20)(2,"span",35),o(3),t()(),r(4,"div",36),o(5),t(),r(6,"div")(7,"input",37),m("ngModelChange",function(i){let x=d(e).$index,S=c(2);return u(S.updateSet(x,"weight",i))}),t()(),r(8,"div")(9,"input",37),m("ngModelChange",function(i){let x=d(e).$index,S=c(2);return u(S.updateSet(x,"reps",i))}),t()(),r(10,"div",20)(11,"button",38),m("click",function(){let i=d(e).$index,x=c(2);return u(x.toggleSetComplete(i))}),r(12,"span",39),o(13,"check"),t()()()()}if(s&2){let e=a.$implicit,n=a.$index,i=c(2);p("bg-orange-50",i.isCurrentSet(n))("border-l-4",i.isCurrentSet(n))("border-l-primary-500",i.isCurrentSet(n)),l(2),p("bg-primary-100",i.isCurrentSet(n))("text-primary-500",i.isCurrentSet(n))("bg-gray-100",!i.isCurrentSet(n))("text-gray-600",!i.isCurrentSet(n)),l(),T(" ",e.setNumber," "),l(2),b(" ",e.previousWeight," x ",e.previousReps," "),l(2),p("border-primary-300",i.isCurrentSet(n))("border-gray-200",!i.isCurrentSet(n)),y("ngModel",e.weight),l(2),p("border-primary-300",i.isCurrentSet(n))("border-gray-200",!i.isCurrentSet(n)),y("ngModel",e.reps),l(2),p("bg-green-500",e.completed)("text-white",e.completed)("bg-gray-100",!e.completed)("text-gray-400",!e.completed)}}function A(s,a){s&1&&(r(0,"div",33)(1,"div")(2,"p",40),o(3,"Next Exercise"),t(),r(4,"p",41),o(5),t()(),r(6,"span",42),o(7,"chevron_right"),t()()),s&2&&(l(5),k(a.exerciseName))}function B(s,a){if(s&1){let e=v();r(0,"main",9)(1,"div",10)(2,"div",11)(3,"div")(4,"h1",12),o(5),t(),r(6,"p",13)(7,"span",14),o(8,"fitness_center"),t(),o(9),t()(),r(10,"button",15)(11,"span",16),o(12,"videocam"),t()()(),f(13,D,4,2,"div",17),t(),r(14,"div",18)(15,"div",19)(16,"div",20),o(17,"Set"),t(),r(18,"div",20),o(19,"Previous"),t(),r(20,"div",20),o(21,"LBS"),t(),r(22,"div",20),o(23,"Reps"),t(),E(24,"div",20),t(),r(25,"div",21),C(26,F,14,35,"div",22,O),t(),r(28,"button",23),m("click",function(){d(e);let i=c();return u(i.addSet())}),r(29,"span",16),o(30,"add"),t(),o(31," Add Set "),t()(),r(32,"div",24)(33,"button",25),m("click",function(){d(e);let i=c();return u(i.finishSet())}),r(34,"span"),o(35,"FINISH"),t(),r(36,"span",26),o(37,"SET"),t()()()(),r(38,"div",27)(39,"div",28)(40,"div",29)(41,"span",30),o(42,"timer"),t(),r(43,"span",31),o(44),t(),r(45,"span",32),o(46,"REST"),t()(),f(47,A,8,1,"div",33),t()()}if(s&2){let e,n=a,i=c();l(5),k(n.exerciseName),l(4),b(" Target: ",n.targetSets," sets of ",n.targetReps," reps "),l(4),_(n.lastPerformance?13:-1),l(13),w(n.sets),l(18),k(i.formatTime(i.restTime())),l(3),_((e=i.nextExercise())?47:-1,e)}}function z(s,a){if(s&1){let e=v();r(0,"div",8)(1,"span",43),o(2,"fitness_center"),t(),r(3,"p",44),o(4,"No active workout"),t(),r(5,"button",45),m("click",function(){d(e);let i=c();return u(i.goBack())}),o(6," Go to Programs "),t()()}}var R=class s{route=g(W);router=g(I);workoutService=g($);activeWorkout=this.workoutService.activeWorkout;currentExercise=this.workoutService.currentExercise;nextExercise=this.workoutService.nextExercise;restTime=this.workoutService.restTime;timerInterval;ngOnInit(){let a=this.route.snapshot.paramMap.get("programId"),e=this.route.snapshot.paramMap.get("dayId");a&&e&&!this.activeWorkout()&&this.workoutService.startWorkout(a,e),this.timerInterval=setInterval(()=>{this.workoutService.isRestTimerRunning()&&this.workoutService.tickRestTimer()},1e3)}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval)}isCurrentSet(a){return this.activeWorkout()?.currentSetIndex===a}updateSet(a,e,n){let i=this.activeWorkout();i&&this.workoutService.updateSet(i.currentExerciseIndex,a,{[e]:n})}toggleSetComplete(a){let e=this.activeWorkout(),n=this.currentExercise();if(!e||!n)return;let i=n.sets[a];this.workoutService.updateSet(e.currentExerciseIndex,a,{completed:!i.completed})}addSet(){this.workoutService.addSet()}finishSet(){this.workoutService.completeSet()}formatTime(a){let e=Math.floor(a/60),n=a%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}goBack(){this.workoutService.endWorkout(),this.router.navigate(["/programs"])}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=h({type:s,selectors:[["app-workout-tracker"]],decls:13,vars:1,consts:[[1,"min-h-screen","bg-background"],[1,"sticky","top-0","bg-white","border-b","border-gray-100","z-40","safe-area-top"],[1,"flex","items-center","justify-between","h-14","px-4","max-w-md","mx-auto"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors","-ml-2",3,"click"],[1,"material-icons-round","text-gray-700"],[1,"text-sm","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"w-10","h-10","flex","items-center","justify-center","rounded-full","hover:bg-gray-100","transition-colors"],[1,"material-icons-round","text-gray-600"],[1,"flex","flex-col","items-center","justify-center","h-[60vh]","px-4"],[1,"px-4","py-6","max-w-md","mx-auto"],[1,"mb-6"],[1,"flex","items-start","justify-between"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-primary-500","font-medium","flex","items-center","gap-1"],[1,"material-icons-round","text-base"],[1,"w-10","h-10","rounded-lg","bg-blue-50","flex","items-center","justify-center","text-blue-500"],[1,"material-icons-round"],[1,"mt-3","inline-flex","items-center","gap-2","bg-gray-100","rounded-full","px-3","py-1.5","text-sm","text-gray-600"],[1,"bg-white","rounded-2xl","overflow-hidden","mb-6"],[1,"grid","grid-cols-5","gap-2","px-4","py-3","bg-gray-50","text-xs","font-semibold","text-gray-400","uppercase"],[1,"text-center"],[1,"divide-y","divide-gray-100"],[1,"grid","grid-cols-5","gap-2","px-4","py-3","items-center","transition-all",3,"bg-orange-50","border-l-4","border-l-primary-500"],[1,"w-full","py-3","border-t","border-dashed","border-gray-200","text-gray-400","font-medium","flex","items-center","justify-center","gap-2","hover:text-gray-500","transition-colors",3,"click"],[1,"flex","justify-center","mb-8"],[1,"w-32","h-32","rounded-full","bg-primary-500","text-white","font-bold","text-xl","flex","flex-col","items-center","justify-center","shadow-lg","hover:bg-primary-600","transition-all","active:scale-95",3,"click"],[1,"text-sm","font-medium","opacity-80"],[1,"fixed","bottom-0","left-0","right-0","bg-white","border-t","border-gray-100","safe-area-bottom"],[1,"flex","items-center","justify-between","px-4","py-3","max-w-md","mx-auto"],[1,"flex","items-center","gap-3","bg-gray-100","rounded-full","px-4","py-2"],[1,"material-icons-round","text-gray-400"],[1,"font-mono","font-semibold","text-gray-700"],[1,"text-sm","text-gray-400"],[1,"flex","items-center","gap-2","text-right"],[1,"grid","grid-cols-5","gap-2","px-4","py-3","items-center","transition-all"],[1,"w-8","h-8","rounded-full","inline-flex","items-center","justify-center","font-semibold"],[1,"text-center","text-sm","text-gray-400"],["type","number","placeholder","-",1,"w-full","px-2","py-2","text-center","bg-white","border","rounded-lg","font-medium",3,"ngModelChange","ngModel"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","transition-all",3,"click"],[1,"material-icons-round","text-lg"],[1,"text-xs","text-gray-400"],[1,"font-semibold","text-gray-900","text-sm"],[1,"material-icons-round","text-primary-500"],[1,"material-icons-round","text-6xl","text-gray-300","mb-4"],[1,"text-gray-500","text-center","mb-4"],[1,"bg-primary-500","text-white","px-6","py-3","rounded-full","font-medium",3,"click"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),m("click",function(){return n.goBack()}),r(4,"span",4),o(5,"chevron_left"),t()(),r(6,"h1",5),o(7,"Your Workout"),t(),r(8,"button",6)(9,"span",7),o(10,"more_horiz"),t()()()(),f(11,B,48,6)(12,z,7,0,"div",8),t()),e&2){let i;l(11),_((i=n.currentExercise())?11:12,i)}},dependencies:[N,M,P,V,j],styles:[".safe-area-top[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top,0)}.safe-area-bottom[_ngcontent-%COMP%]{padding-bottom:calc(.75rem + env(safe-area-inset-bottom,0))}"]})};export{R as WorkoutTrackerComponent};
