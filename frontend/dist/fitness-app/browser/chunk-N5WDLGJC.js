import{a as B}from"./chunk-TNUZP3IC.js";import{a as P,b as T,c as V,d as j,e as F,f as N,h as W,j as D}from"./chunk-EO6GLLKT.js";import{$ as f,C as w,Ea as L,I as l,Ja as z,L as E,T as m,U as c,Y as b,Z as e,_ as t,da as k,fa as u,ha as p,la as o,ma as M,pa as _,qa as C,ra as v,s as S,u as h,v as x,w as g,x as y}from"./chunk-BPJZSODR.js";function G(i,s){if(i&1&&(e(0,"div",8)(1,"p",23),o(2),t()()),i&2){let r=p();l(2),M(r.authService.error())}}function R(i,s){i&1&&(g(),e(0,"svg",15),f(1,"path",24),t())}function I(i,s){i&1&&(g(),e(0,"svg",15),f(1,"path",25)(2,"path",26),t())}function q(i,s){i&1&&(g(),e(0,"svg",27),f(1,"circle",28)(2,"path",29),t(),o(3," Signing in... "))}function H(i,s){i&1&&o(0," Sign In ")}function U(i,s){i&1&&(e(0,"div",33)(1,"p",38),o(2,"Check your email for the reset link!"),t()())}function J(i,s){if(i&1){let r=k();e(0,"div",22)(1,"div",30)(2,"h2",31),o(3,"Reset Password"),t(),e(4,"p",32),o(5,"Enter your email and we'll send you a reset link."),t(),m(6,U,3,0,"div",33),e(7,"input",34),v("ngModelChange",function(a){h(r);let d=p();return C(d.resetEmail,a)||(d.resetEmail=a),x(a)}),t(),e(8,"div",35)(9,"button",36),u("click",function(){h(r);let a=p();return x(a.closeForgotPassword())}),o(10," Cancel "),t(),e(11,"button",37),u("click",function(){h(r);let a=p();return x(a.sendResetEmail())}),o(12," Send Link "),t()()()()}if(i&2){let r=p();l(6),c(r.resetEmailSent()?6:-1),l(),_("ngModel",r.resetEmail),l(4),b("disabled",r.authService.isSubmitting())}}var A=class i{authService=S(B);email="";password="";resetEmail="";showPassword=w(!1);showForgotPassword=w(!1);resetEmailSent=w(!1);togglePassword(){this.showPassword.update(s=>!s)}async onSubmit(){!this.email||!this.password||await this.authService.signIn({email:this.email,password:this.password})}forgotPassword(){this.resetEmail=this.email,this.resetEmailSent.set(!1),this.showForgotPassword.set(!0)}closeForgotPassword(){this.showForgotPassword.set(!1)}async sendResetEmail(){if(!this.resetEmail)return;(await this.authService.resetPassword(this.resetEmail)).success&&this.resetEmailSent.set(!0)}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=E({type:i,selectors:[["app-login"]],decls:36,vars:8,consts:[[1,"min-h-screen","bg-zinc-950","flex","flex-col","justify-center","px-6","py-12"],[1,"text-center","mb-8"],[1,"w-16","h-16","bg-orange-500","rounded-2xl","mx-auto","mb-4","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"text-2xl","font-bold","text-white"],[1,"text-zinc-400","mt-2"],[1,"bg-zinc-900","rounded-2xl","p-6"],[1,"bg-red-500/10","border","border-red-500/20","rounded-xl","p-4","mb-4"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-zinc-400","mb-2"],["type","email","name","email","required","","placeholder","Enter your email",1,"w-full","bg-zinc-800","border","border-zinc-700","rounded-xl","px-4","py-3","text-white","placeholder-zinc-500","focus:outline-none","focus:border-orange-500","transition-colors",3,"ngModelChange","ngModel"],[1,"relative"],["name","password","required","","placeholder","Enter your password",1,"w-full","bg-zinc-800","border","border-zinc-700","rounded-xl","px-4","py-3","text-white","placeholder-zinc-500","focus:outline-none","focus:border-orange-500","transition-colors","pr-12",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-zinc-400","hover:text-white",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"flex","justify-end"],["type","button",1,"text-sm","text-orange-500","hover:text-orange-400",3,"click"],["type","submit",1,"w-full","bg-orange-500","text-white","font-semibold","py-3","px-4","rounded-xl","hover:bg-orange-600","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"mt-6","text-center"],[1,"text-zinc-400"],["routerLink","/signup",1,"text-orange-500","hover:text-orange-400","font-medium","ml-1"],[1,"fixed","inset-0","bg-black/80","flex","items-center","justify-center","p-6","z-50"],[1,"text-red-400","text-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"bg-zinc-900","rounded-2xl","p-6","w-full","max-w-sm"],[1,"text-xl","font-bold","text-white","mb-2"],[1,"text-zinc-400","text-sm","mb-4"],[1,"bg-green-500/10","border","border-green-500/20","rounded-xl","p-4","mb-4"],["type","email","placeholder","Enter your email",1,"w-full","bg-zinc-800","border","border-zinc-700","rounded-xl","px-4","py-3","text-white","placeholder-zinc-500","focus:outline-none","focus:border-orange-500","transition-colors","mb-4",3,"ngModelChange","ngModel"],[1,"flex","gap-3"],[1,"flex-1","bg-zinc-800","text-white","font-medium","py-3","rounded-xl","hover:bg-zinc-700","transition-colors",3,"click"],[1,"flex-1","bg-orange-500","text-white","font-medium","py-3","rounded-xl","hover:bg-orange-600","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"text-green-400","text-sm"]],template:function(r,n){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),g(),e(3,"svg",3),f(4,"path",4),t()(),y(),e(5,"h1",5),o(6,"Welcome Back"),t(),e(7,"p",6),o(8,"Sign in to continue your fitness journey"),t()(),e(9,"div",7),m(10,G,3,1,"div",8),e(11,"form",9),u("ngSubmit",function(){return n.onSubmit()}),e(12,"div")(13,"label",10),o(14,"Email"),t(),e(15,"input",11),v("ngModelChange",function(d){return C(n.email,d)||(n.email=d),d}),t()(),e(16,"div")(17,"label",10),o(18,"Password"),t(),e(19,"div",12)(20,"input",13),v("ngModelChange",function(d){return C(n.password,d)||(n.password=d),d}),t(),e(21,"button",14),u("click",function(){return n.togglePassword()}),m(22,R,2,0,":svg:svg",15)(23,I,3,0,":svg:svg",15),t()()(),e(24,"div",16)(25,"button",17),u("click",function(){return n.forgotPassword()}),o(26," Forgot password? "),t()(),e(27,"button",18),m(28,q,4,0)(29,H,1,0),t()(),e(30,"div",19)(31,"p",20),o(32," Don't have an account? "),e(33,"a",21),o(34," Sign Up "),t()()()(),m(35,J,13,3,"div",22),t()),r&2&&(l(10),c(n.authService.error()?10:-1),l(5),_("ngModel",n.email),l(5),b("type",n.showPassword()?"text":"password"),_("ngModel",n.password),l(2),c(n.showPassword()?22:23),l(5),b("disabled",n.authService.isSubmitting()),l(),c(n.authService.isSubmitting()?28:29),l(7),c(n.showForgotPassword()?35:-1))},dependencies:[L,D,N,P,T,V,W,F,j,z],encapsulation:2})};export{A as LoginComponent};
